<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blogs</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body class="bg-dark">
    <div class="container mx-auto">
        <div class="bg-white col-6 border border-warning rounded">
            <form action="/add" method="post" class="form">
                <div>
                    <label>Item Name</label>
                    <input type="text" name="name"/>
                </div>
                <div>
                    <label>Description</label>
                    <input type="text" name="description"/>
                </div>
                <div>
                    <label>Price</label>
                    <input type="number" name="price"/>
                </div>
                <div>
                    <label>Quantity</label>
                    <input type="number" name="quantity"/>
                </div>
                <button type="submit">Add</button>
            </form>
        </div>
        <div class="my-5 bg-white">
            <table class="table table-bordered table-striped">
                <tbody>
                <% for (let  item of items) { %>
                    <tr>
                        <td>
                            <%= item.name %>
                        </td>
                        <td>
                            <%= item.description %>
                        </td>
                        <td>
                            <%= item.price %>
                        </td>
                        <td>
                            <%= item.quantity %>
                        </td>
                        <% if (item.quantity > 0) { %> 
                        <td>
                            <% if (item.quantity > 0) { %> 
                            <form action="/buy" method="post">
                                <input type="hidden" name="buy" value="1"/>
                                <button type="submit">Buy 1</button>
                                <input type="hidden" name="itemId" value="<%= item.id %>"/>
                            </form>
                            <% } %>
                        </td>
                        <td>
                            <% if (item.quantity > 1) { %> 
                            <form action="/buy" method="post">
                                <input type="hidden" name="buy" value="2"/>
                                <button type="submit">Buy 2</button>
                                <input type="hidden" name="itemId" value="<%= item.id %>"/>
                            </form>
                            <% } %>
                        </td>
                        <td>
                            <% if (item.quantity > 2) { %> 
                            <form action="/buy" method="post">
                                <input type="hidden" name="buy" value="3"/>
                                <button type="submit">Buy 3</button>
                                <input type="hidden" name="itemId" value="<%= item.id %>"/>
                            </form>
                            <% } %>
                        </td>
                        <% } %>
                        <% if (item.quantity == 0) { %> 
                            <td colspan="3"> Out of Stock </td>
                        <% } %>
                    </tr>
                <% } %>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>